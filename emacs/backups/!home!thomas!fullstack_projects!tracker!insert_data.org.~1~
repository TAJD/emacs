* Inserting data into database
  :PROPERTIES:
  :header-args:sql: :engine postgresql :dbport 5432 :dbhost 127.0.0.1 :dbuser testuser :dbpassword password :database trackerdb
  :END:



#+begin_src sql
SELECT column_name 
FROM information_schema.columns
WHERE table_name = 'workouts';
#+end_src

#+RESULTS:
| column_name  |
|--------------|
| workout_id   |
| workout_date |
| workout_name |

#+begin_src sql
set search_path = data, public;
with workout_id as (
   insert into workouts (workout_name, workout_date) values ('workout 1', '2021-12-01'::date) returning workout_id
)
select * from workout_id
#+end_src

#+RESULTS:
| SET        |
|------------|
| workout_id |
| 3          |

       (1, 2, 50, 10, 4),
       (2, 2, 50, 10, 5),       
       (3, 2, 50, 10, 6),
       (1, 1, 50, 10, 7),
       (2, 1, 50, 10, 8),
       (3, 1, 50, 10, 9),
       (1, 2, 50, 10, 10),
       (2, 2, 50, 10, 11),       
       (3, 2, 50, 10, 12);
