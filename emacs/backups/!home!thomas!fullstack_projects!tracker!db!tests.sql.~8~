\echo 'Run tests'

\set VERBOSITY terse
\set ON ERROR STOP true

set search_path = data, public;

\echo 'list exercises'
select * from exercises;

\echo 'list recent workout ids/dates'
select * from workouts
order by workout_id desc
limit 10;

\echo 'Develop weekly view on measurements'
select *
from weekly_averages;

\echo 'tonnage per exercise per workout'
select * from workout_tonnage;

\echo 'weekly tonnage per exercise'
select * from weekly_tonnage_exercise;

\echo 'weekly tonnage'
select * from weekly_tonnage;

\echo 'Develop workout insert statement'
with new_workout_id as (
insert into workouts (workout_name, workout_date) values ('workout 3', '2021-12-13') returning workout_id
)
select * from new_workout_id;
